# -----------------------------------------------
# CONFIGURACAO DO BANCO DE DADOS H2
# -----------------------------------------------

# Classe do driver JDBC para o H2
spring.datasource.driverClassName=org.h2.Driver

# Banco H2 em memoria. So existe enquanto a aplicacao roda.
# Nome do banco = fastshopdb
spring.datasource.url=jdbc:h2:mem:fastshopdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE

# Usuario padrao do H2
spring.datasource.username=sa

# Senha padrao (em branco)
spring.datasource.password=

# -----------------------------------------------
# CONFIGURACAO DO FLYWAY
# -----------------------------------------------

# URL especifica para o Flyway usar o mesmo banco H2
spring.flyway.url=jdbc:h2:mem:fastshopdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE
spring.flyway.user=sa
spring.flyway.password=
# Desabilita Flyway para testes (opcional, ja que nao ha migracoes)
spring.flyway.enabled=false

# -----------------------------------------------
# CONFIGURACAO DO JPA / HIBERNATE
# -----------------------------------------------

# Dialeto SQL que o Hibernate usara
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect

# Estrutura do schema:
# - update: cria/atualiza sem apagar dados
# - create: cria do zero a cada execucao
# - create-drop: cria ao iniciar e apaga ao terminar
# - none: nao faz nada
spring.jpa.hibernate.ddl-auto=create-drop

# Exibe SQL no console (bom para debug)
spring.jpa.show-sql=true

# -----------------------------------------------
# CONFIGURACAO DO CONSOLE WEB H2
# -----------------------------------------------

# Habilita o console web do H2
spring.h2.console.enabled=true

# Caminho para acessar no navegador
# http://localhost:8080/h2-console
spring.h2.console.path=/h2-console

# Permite acesso remoto ao console H2 (apenas para desenvolvimento)
spring.h2.console.settings.web-allow-others=true
