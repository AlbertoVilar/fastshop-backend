# -----------------------------------------------
# CONFIGURACAO DO BANCO DE DADOS H2 PARA TESTES
# -----------------------------------------------

# Classe do driver JDBC para o H2
spring.datasource.driverClassName=org.h2.Driver

# Banco H2 em memoria para testes
spring.datasource.url=jdbc:h2:mem:fastshopdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE

# Usuario padrao do H2
spring.datasource.username=sa

# Senha padrao (em branco)
spring.datasource.password=

# -----------------------------------------------
# CONFIGURACAO DO JPA / HIBERNATE PARA TESTES
# -----------------------------------------------

# Dialeto SQL que o Hibernate usara
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect

# Cria e apaga o schema a cada execucao de teste
spring.jpa.hibernate.ddl-auto=create-drop
spring.jpa.properties.hibernate.hbm2ddl.import_files=none.sql

# Exibe SQL no console (bom para debug)
spring.jpa.show-sql=true

# Garante que o data.sql rode APÓS o Hibernate criar as tabelas
spring.jpa.defer-datasource-initialization=true

# -----------------------------------------------
# CONFIGURACAO DE JWT PARA TESTES
# -----------------------------------------------

jwt.secret=fastshop-test-secret-key-1234567890
jwt.expiration=3600000

# -----------------------------------------------
# CONFIGURACAO DO FLYWAY PARA TESTES
# -----------------------------------------------

# Desabilita Flyway para testes
spring.flyway.enabled=false

# -----------------------------------------------
# CONFIGURACAO DO CONSOLE WEB H2 PARA TESTES
# -----------------------------------------------

# Habilita o console web do H2
spring.h2.console.enabled=true

# Caminho para acessar no navegador
spring.h2.console.path=/h2-console

# Permite acesso remoto ao console H2 (apenas para desenvolvimento)
spring.h2.console.settings.web-allow-others=true

# -----------------------------------------------
# CONFIGURACAO DO JWT PARA TESTES
# -----------------------------------------------
# Chave secreta forte (mín. 32 chars) para HMAC-SHA
jwt.secret=fastshop-test-secret-key-0123456789-abcdef-ghij
# Expiracao em milissegundos (1 hora)
jwt.expiration=3600000